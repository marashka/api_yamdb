# api_yamdb
API для базы данных отзывов YamDB. Учебный проект для Яндекс Практикум

## Описание

API позволяет создавать и регистрировать пользователей, получать и создавать отзывы, комментарии.

Пользователь с ролью администратора может добавлять новые произведения, категории, жанры, а также редактировать и удалять пользователей, произведения, категории, жанры, отзывы, комментарии.

Пользователь с ролью модератора может редактировать и удалять отзывы и комментарии.

Полная документация API доступна [тут](https://github.com/marashka/api_yamdb/blob/master/api_yamdb/static/redoc.yaml) или по адресу http://127.0.0.1/redoc.

Проект написан командой "Пурпурные" когорты 44 курса "Python-разработчик" Яндекс Практикума.

### Возможности API
Пользователи/User:
- Получить список всех пользователей
- Получить пользователя по username
- Cоздание пользователя
- Получить данные своей учетной записи
- Отредактировать данные своей учетной записи
- Отредактировать данные пользователя по username (только admin)
- Удалить пользователя по username (только admin)


Произведения/Title:
- Получить список всех объектов
- Получить информацию о произведении
- Добавить произведение (только admin)
- Отредактировать информацию о произведении (только admin)
- Удалить произведение (только admin)

Отзывы/Review:
- Получить список всех отзывов 
- Получить отзыв по id 
- Создать новый отзыв
- Отредактировать отзыв по id (могут admin, moderator и автор отзыва)
- Удалить отзыв по id (могут admin, moderator и автор отзыва)

Комментарии к отзывам/Comment:
- Получить список всех комментариев к отзыву по id
- Получить комментарий для отзыва по id 
- Создать новый комментарий для отзыва
- Отредактировать комментарий к отзыву по id (могут admin, moderator и автор коммента)
- Удалить комментарий к отзыву по id (могут admin, moderator и автор коммента)

JWT-токен:
- Отправление confirmation_code на переданный email
- Получение JWT-токена в обмен на username и confirmation_code

Категории произведений/Category: 
- Получить список всех категорий
- Cоздать категорию (только admin)
- Удалить категорию (только admin)

Жанры/Genre:
- Получить список всех жанров
- Создать жанр (только admin)
- Удалить жанр (только admin)

## Технологии
Python, Django, Django Rest Framework, PyJWT, django-filter.

## Установка
На локальном компьютере должен быть установлен Python версии 3 или выше.

- Склонировать данный репозиторий на свой локальный компьютер.
- Установить виртуальное окружение используя команду `python3 -3.7 -m venv venv` или `py -3.7 -m venv venv`.
- Установить необходимые библиотеки используя команду `pip install -r requirements.txt`. Для обновления pip можно использовать команду `py -m pip install --upgrade pip` или другую аналогичную.
- Выполнить миграции командой `py manage.py migrate`. 
- Далее можно загрузить данные из .csv таблиц командой `py manage.py import_data_csv_to_db`.
- Запустить локальный сервер командой `py manage.py runserver`.

## Авторы
[Марат Ахметов](https://github.com/marashka) - управление пользователями, система регистрации и аутентификации, права доступа, работа с токеном, система подтверждения через e-mail.

[Андрей Киселев](https://github.com/Faelris) - модели, view и эндпоинты для категорий, жанров, произведений, импорт из csv в db, права доступа, фильтры.

[Сергей Крючков](https://github.com/Serg-7x) - модели, view и эндпоинты для отзывов и комментариев, вывод рейтинга для произведений.